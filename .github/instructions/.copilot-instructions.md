# Copilot Instructions for Team 3 Job Application Frontend

## üìã **Read This First**
Always read this file when starting any new task or conversation about this project to understand the context, architecture, and conventions.

## üé® **IMPORTANT: Design Guidelines**
**All new endpoints, pages, and components MUST follow the Kainos brand color scheme and design guidelines.**

üìã **See design-guidelines.md (in this same folder) for complete styling requirements**

### Quick Design Reference:
- Use `.kainos-text-gradient` for main page headings
- Use `.btn-kainos` for primary action buttons
- Apply Kainos color variables: `var(--kainos-primary)`, `var(--kainos-green)`, etc.
- Maintain navy blue and green theme throughout - see design-guidelines.md for color codes
- Use DaisyUI components with Kainos color overrides
- Never hardcode colors - always use CSS variables

## ÔøΩüèóÔ∏è **Project Overview**
- **Name**: Team 3 Job Application Frontend
- **Type**: TypeScript/Node.js web application
- **Architecture**: 3-tier architecture (Presentation, Business Logic, Data Access)
- **Template Engine**: Nunjucks
- **Styling**: Tailwind CSS + DaisyUI + Kainos Custom Theme
- **Framework**: Express.js

## üìÅ **Project Structure**
```
src/
‚îú‚îÄ‚îÄ controllers/     # Presentation layer - HTTP request handlers
‚îú‚îÄ‚îÄ services/        # Business logic layer - Application rules
‚îú‚îÄ‚îÄ repositories/    # Data access layer - Data operations
‚îú‚îÄ‚îÄ models/          # Data models and interfaces
‚îú‚îÄ‚îÄ routes/          # Route definitions and middleware
‚îú‚îÄ‚îÄ middleware/      # Custom Express middleware
‚îú‚îÄ‚îÄ config/          # Application configuration
‚îú‚îÄ‚îÄ app.ts           # Application factory and setup
‚îî‚îÄ‚îÄ index.ts         # Application entry point

views/               # Nunjucks templates
public/              # Static assets (CSS, JS, images)
```

## üõ†Ô∏è **Technology Stack**
- **Runtime**: Node.js >= 18.0.0
- **Language**: TypeScript 5.3.3
- **Framework**: Express.js 5.1.0
- **Template Engine**: Nunjucks 3.2.4
- **CSS**: Tailwind CSS 4.1.13 + DaisyUI 5.1.26
- **Testing**: Vitest 3.2.4
- **Code Quality**: Biome 2.2.4
- **Build**: TypeScript Compiler (tsc)
- **Dev Server**: tsx (hot reload)

## üìã **Available Commands**
```bash
# Development
npm run dev              # Start development server with hot reload
npm run build           # Build TypeScript to JavaScript
npm run start           # Start production server
npm run clean           # Remove build artifacts

# CSS & Styling
npm run build:css       # Build development CSS
npm run build:css:watch # Watch and rebuild CSS
npm run build:css:prod  # Build minified production CSS

# ‚ö†Ô∏è Always run build:css after modifying /src/styles/input.css
# ‚ö†Ô∏è Never edit /public/css/output.css directly (it's generated)

# Testing
npm run test            # Interactive test runner
npm run test:run        # Run all tests once
npm run test:ui         # Test UI in browser
npm run test:coverage   # Run with coverage

# Code Quality
npm run format          # Format code with Biome
npm run lint           # Lint and fix issues
npm run check          # Full quality check
npm run ci             # CI-optimized check
npm run type-check     # TypeScript type checking
```

## üéØ **Code Quality Standards**
- **Biome** for formatting and linting
- **TypeScript strict mode** enabled
- **3-tier architecture** pattern enforced
- **Consistent naming conventions**
- **Comprehensive testing** with Vitest
- **Tab indentation** (2 spaces in JSON)
- **100 character line width**
- **Double quotes** for strings
- **Always semicolons**
- **Trailing commas** where valid

## üì° **Current Endpoints**
### Frontend Routes
- `GET /` - Home page with job listings
- `GET /job-roles` - Job roles listing page

### API Endpoints
- `GET /api/job-roles` - Job roles data (JSON)

## üîÑ **Development Workflow**
1. **Always run quality checks**: `npm run check`
2. **Run tests**: `npm run test:run`
3. **Type check**: `npm run type-check`
4. **Build verification**: `npm run build`

## üö® **Important Conventions**

### File Naming
- **Controllers**: `*-controller.ts` (kebab-case)
- **Services**: `*-service.ts` (kebab-case)
- **Models**: `*.ts` (kebab-case for file, PascalCase for interface)
- **Tests**: `*.test.ts` or `*.spec.ts`

### Code Organization
- **Controllers**: Handle HTTP requests/responses only
- **Services**: Contain business logic and rules
- **Repositories**: Handle data access and storage
- **Models**: Define interfaces and types
- **Routes**: Define URL routing and middleware

### TypeScript Usage
- **Strict mode** enabled
- **Explicit types** preferred over `any`
- **Interface definitions** in models
- **Proper error handling** with custom error types

### Testing Requirements
- **Unit tests** for all services
- **Integration tests** for controllers
- **Test coverage** reports required
- **Mock external dependencies**

## üîß **Environment & Configuration**
- **Node.js**: >= 18.0.0 required
- **Port**: Default 3000 (configurable via PORT env var)
- **Development**: Hot reload with tsx
- **Production**: Compiled JavaScript in dist/

## üìù **Documentation Standards**
- **README.md**: Keep updated with all commands
- **JSDoc comments** for complex functions
- **Type definitions** for all interfaces
- **Inline comments** for business logic

## üöÄ **Deployment Notes**
- **Build process**: TypeScript compilation + CSS minification
- **Static assets**: Served from public/ directory
- **Environment variables**: PORT for server configuration

## ‚ö†Ô∏è **Common Pitfalls to Avoid**
- Don't mix business logic in controllers
- Don't put HTTP logic in services
- Don't skip type definitions
- Don't commit without running `npm run check`
- Don't ignore test coverage
- Don't hardcode configuration values
- **Don't hardcode colors - always use Kainos CSS variables**
- **Don't edit /public/css/output.css directly - it's generated**
- **Don't create pages without following Kainos design guidelines**

## üéØ **When Making Changes**
1. **Understand the 3-tier architecture**
2. **Follow existing patterns and conventions**
3. **Apply Kainos design guidelines** (see DESIGN_GUIDELINES.md)
4. **Add appropriate tests**
5. **Update documentation if needed**
6. **Run all quality checks before committing**
7. **Build CSS if you modified input.css** (`npm run build:css`)
8. **Ensure backward compatibility**

## üìû **Support & Resources**
- **Main documentation**: README.md
- **Design guidelines**: design-guidelines.md (in .github/instructions/)
- **Architecture docs**: See README.md "Architecture" section
- **API docs**: See README.md "API Endpoints" section
- **Testing guide**: See README.md "Testing" section
- **Contributing**: See README.md "Contributing" section
- **CSS source**: /src/styles/input.css (Kainos custom styles)
- **Tailwind config**: /tailwind.config.js (Kainos color definitions)

---
**Always refer to the README.md for the most up-to-date information and detailed instructions.**