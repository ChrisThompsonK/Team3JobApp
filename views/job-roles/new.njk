{% extends "layout.njk" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 max-w-4xl">
  <div class="flex justify-between items-center mb-8">
    <h1 class="text-5xl font-bold">{{ title }}</h1>
    <a href="/jobs" class="btn-kainos-outline">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
      </svg>
      Back to Job Roles
    </a>
  </div>

  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title text-2xl mb-6">Job Role Information</h2>
      
      <form action="/jobs/new" method="POST" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Job Name -->
          <div class="form-control bg-blue-50 p-4 rounded-lg border border-blue-100">
            <label class="label" for="name">
              <span class="label-text text-lg font-semibold">Job Name *</span>
            </label>
            <input 
              type="text" 
              id="name"
              name="name" 
              placeholder="e.g., Software Engineer" 
              class="input input-bordered input-lg w-full focus:input-primary transition-colors duration-200" 
              required
            />
          </div>

          <!-- Location -->
          <div class="form-control bg-green-50 p-4 rounded-lg border border-green-100">
            <label class="label" for="location">
              <span class="label-text text-lg font-semibold">Location *</span>
            </label>
            <select id="location" name="location" class="select select-bordered select-lg w-full focus:select-primary transition-colors duration-200" required>
              <option disabled selected>Select location</option>
              {% for location in locationOptions %}
              <option value="{{ location }}">{{ location }}</option>
              {% endfor %}
            </select>
          </div>

          <!-- Capability -->
          <div class="form-control bg-purple-50 p-4 rounded-lg border border-purple-100">
            <label class="label" for="capability">
              <span class="label-text text-lg font-semibold">Capability *</span>
            </label>
            <select id="capability" name="capability" class="select select-bordered select-lg w-full focus:select-primary transition-colors duration-200" required>
              <option disabled selected>Select capability</option>
              {% for capability in capabilityOptions %}
              <option value="{{ capability }}">{{ capability }}</option>
              {% endfor %}
            </select>
          </div>

          <!-- Band -->
          <div class="form-control bg-orange-50 p-4 rounded-lg border border-orange-100">
            <label class="label" for="band">
              <span class="label-text text-lg font-semibold">Band *</span>
            </label>
            <select id="band" name="band" class="select select-bordered select-lg w-full focus:select-primary transition-colors duration-200" required>
              <option disabled selected>Select band</option>
              {% for band in bandOptions %}
              <option value="{{ band }}">{{ band }}</option>
              {% endfor %}
            </select>
          </div>

          <!-- Closing Date -->
          <div class="form-control bg-pink-50 p-4 rounded-lg border border-pink-100">
            <label class="label" for="closingDate">
              <span class="label-text text-lg font-semibold">Closing Date *</span>
            </label>
            <input 
              type="date" 
              id="closingDate"
              name="closingDate" 
              class="input input-bordered input-lg w-full focus:input-primary transition-colors duration-200" 
              required
            />
          </div>

          <!-- Open Positions -->
          <div class="form-control bg-yellow-50 p-4 rounded-lg border border-yellow-100">
            <label class="label" for="openPositions">
              <span class="label-text text-lg font-semibold">Open Positions</span>
            </label>
            <input 
              type="number" 
              id="openPositions"
              name="openPositions" 
              placeholder="e.g., 3" 
              class="input input-bordered input-lg w-full focus:input-primary transition-colors duration-200" 
              min="1"
              value="1"
            />
          </div>

          <!-- Job Description -->
          <div class="form-control md:col-span-2 bg-indigo-50 p-4 rounded-lg border border-indigo-100">
            <label class="label" for="description">
              <span class="label-text text-lg font-semibold">Job Description</span>
            </label>
            <textarea 
              id="description"
              name="description" 
              class="textarea textarea-bordered textarea-lg h-32 resize-none w-full focus:textarea-primary transition-colors duration-200" 
              placeholder="Provide a brief description of the role and its key objectives..."
            ></textarea>
            <label class="label">
              <span class="label-text-alt text-sm opacity-70">Describe the role's purpose and main objectives</span>
            </label>
          </div>

          <!-- Job Responsibilities -->
          <div class="form-control md:col-span-2 bg-teal-50 p-4 rounded-lg border border-teal-100">
            <label class="label" for="responsibilities">
              <span class="label-text text-lg font-semibold">Key Responsibilities</span>
            </label>
            <textarea 
              id="responsibilities"
              name="responsibilities" 
              class="textarea textarea-bordered textarea-lg h-32 resize-none w-full focus:textarea-primary transition-colors duration-200" 
              placeholder="List the main responsibilities for this role (one per line)..."
            ></textarea>
            <label class="label">
              <span class="label-text-alt text-sm opacity-70">Enter each responsibility on a new line</span>
            </label>
          </div>
        </div>

        <!-- Job Spec URL -->
        <div class="form-control bg-slate-50 p-4 rounded-lg border border-slate-100">
          <label class="label" for="jobSpecUrl">
            <span class="label-text text-lg font-semibold">Job Specification URL</span>
          </label>
          <input 
            type="url" 
            id="jobSpecUrl"
            name="jobSpecUrl" 
            placeholder="https://example.com/job-spec.pdf" 
            class="input input-bordered input-lg w-full focus:input-primary transition-colors duration-200"
          />
          <label class="label">
            <span class="label-text-alt text-sm opacity-70">Optional: Link to detailed job specification document</span>
          </label>
        </div>

        <!-- Form Actions -->
        <div class="form-control mt-8">
          <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
            <a href="/jobs" class="btn-kainos-outline">
              Cancel
            </a>
            <button type="submit" class="btn-kainos">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
              Create Job Role
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}