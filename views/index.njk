{% extends "layout.njk" %}

{% block title %}Home - Job Portal{% endblock %}

{% block content %}
    <style>
        .placeholder-gray-600::placeholder {
            color: #4b5563 !important;
            opacity: 1;
        }
        .placeholder-gray-600::-webkit-input-placeholder {
            color: #4b5563 !important;
            opacity: 1;
        }
        .placeholder-gray-600::-moz-placeholder {
            color: #4b5563 !important;
            opacity: 1;
        }
        .placeholder-gray-600:-ms-input-placeholder {
            color: #4b5563 !important;
            opacity: 1;
        }
        .job-search-title {
            font-size: 2rem !important;
            line-height: 1.1;
        }
        .underlined-title {
            text-decoration: underline !important;
            text-decoration-color: hsl(var(--p)) !important;
            text-underline-offset: 4px !important;
        }
        .job-category-btn {
            background-color: white !important;
            color: #1f2937 !important;
            border: 2px solid hsl(var(--p)) !important;
            padding-top: 1rem !important;
            padding-bottom: 1rem !important;
            min-height: 4rem !important;
        }
        .job-category-btn:hover {
            background-color: hsl(var(--p)) !important;
            color: white !important;
        }
    </style>
    <!-- Main Title -->
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-primary underlined-title mb-6 w-full max-w-6xl mx-auto px-8">
            Welcome to Job Portal
        </h1>
        <p class="text-lg text-base-content/70 mb-8 w-full max-w-6xl mx-auto px-8">
            Find your perfect job opportunity
        </p>
    </div>



    <!-- Job Search Card -->
    <div class="flex justify-center">
        <div class="card bg-primary text-primary-content shadow-lg max-w-md w-full">
            <div class="card-body text-center">
                <h2 class="job-search-title font-bold justify-center mb-6 tracking-wide">Job Search</h2>
                <p class="mb-6">Browse through available job opportunities</p>
                
                <!-- Search Bar -->
                <div class="form-control w-full mb-4">
                    <input 
                        type="text" 
                        placeholder="Search for jobs..." 
                        class="input input-bordered w-full text-base-content bg-base-100 placeholder-gray-600" 
                        id="jobSearchInput"
                    />
                </div>

                <div class="card-actions justify-center mt-4">
                    <a href="/jobs" class="btn btn-primary-content btn-outline">View All Jobs</a>
                </div>
                
                <!-- Job Category Buttons -->
                <div class="mt-6">
                    <div class="grid grid-cols-2 gap-4 w-full">
                        <a href="/jobs?category=engineering" class="btn btn-lg job-category-btn mb-2">Engineering</a>
                        <a href="/jobs?category=managerial" class="btn btn-lg job-category-btn mb-2">Managerial</a>
                        <a href="/jobs?category=senior" class="btn btn-lg job-category-btn">Senior</a>
                        <a href="/jobs?category=security" class="btn btn-lg job-category-btn">Security</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function searchJobs() {
            const searchTerm = document.getElementById('jobSearchInput').value.trim();
            if (searchTerm) {
                // Redirect to jobs page with search query
                window.location.href = `/jobs?search=${encodeURIComponent(searchTerm)}`;
            } else {
                // If no search term, just go to jobs page
                window.location.href = '/jobs';
            }
        }

        // Allow Enter key to trigger search
        document.getElementById('jobSearchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchJobs();
            }
        });
    </script>


{% endblock %}